import { db } from './firebase.js';
import { collection, addDoc } from "firebase/firestore"; 

document.getElementById('bookingForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = {
        eventType: document.getElementById('eventType').value,
        eventDate: document.getElementById('eventDate').value,
        createdAt: new Date()
    };
    
    try {
        const docRef = await addDoc(collection(db, "bookings"), formData);
        console.log("Document written with ID: ", docRef.id);
        alert('Booking confirmed!');
    } catch (e) {
        console.error("Error adding document: ", e);
        alert('Error submitting booking. Please try again.');
    }
    
    this.reset();
});
